# 2025-08-25(월) 일지

## 오늘 한 일
- 버그 수정
  - 시간 비교 로직에서 연산자 사용 오류 교정(`isBefore`/`isAfter`로 대체)
  - NPE 다수 지점 가드 추가(서비스 진입부 null 체크, DTO 기본값 설정)
 
- 비밀번호 확인 로직 구현
  - 엔드포인트: `POST /auth/verify-password` 
  - 서버 단 해시 검증(BCrypt)
 
- GitHub Wiki 작성
  - 아키텍처 개요, 상태 전이 표, ADR 정리
- 사용자 생성 시 21:00 이전이면 당일 `Document` 자동 생성 기능
  - 현재는 동기 처리로 바로 생성

## 배운 점·느낀 점

- 위키를 정리하다 보니 팀의 발자국이 보인다. 
- 내 결정기록을 보면서, “근거를 남기는 설계”를 꾸준히 시도해왔다는 게 보여서 스스로도 좀 든든했다.
- 예전엔 아키텍처라는게 막연했는데, 이번엔 모든 요소를 직접 관리했다 보니 매우 명확하다.

### 반성
- 핫픽스가 많았다. 빠르게 때울 수 밖에 없는 건 맞지만, 누적되면 품질 부채가 된다.
- 사용자 생성 -> 문서 자동 생성은 지금 설계가 마음에 들지 않는다. 동기로 “쭉” 밀기보다 이벤트/비동기로 경계 나누는 게 맞다.

### 상태 전이 점검

문서: SHEET_DONE → REPORT_PENDING → REPORT_REVIEWED → REPORT_RESERVED → REPORT_SENDING → (REPORT_SENT | REPORT_FAILED)

빨리 고치는 것도 능력이라면 능력이긴 하지만, 제발 처음부터 잘 설계하자!!
