## 간단한 감상
오늘은 Spring 구조를 뜯어보면서 고민한 나 자신을 칭찬하고 싶다.  
Spring의 설계가 얼마나 정교한지 다시 한번 느꼈다.  
오늘 25분인가에 도착했다. 20분엔 도착하기로 마음먹었었는데 반성하자.

---

## 리뷰

### 오늘 한 일

- 설계
  - RouteKey 기반 MethodHandler 등록 및 파라미터 추상화.
  - Spring의 `HandlerMethod`와 `ArgumentResolver`를 참고해 Content-Type별 ArgumentResolver(`FormArgumentResolver`, `JsonArgumentResolver`) 구현.
  - Body 추상화를 통한 요청 raw data 일관 처리(`StaticResourceBody`, `FormBody`).
  - Content-Type별 문법 처리와 DTO 자동 매핑 구조 정립.
  
- 그룹 스쿼드
  - 파일 캐싱 아이디어 공유.
  - Static 로딩 시점 학습 및 팀원과 토론.
  - 코드 레벨 설명이 어렵다는 점을 깨닫고, 아키텍처 다이어그램과 주석의 필요성을 느낌.
- 팀 미팅
  - 기획 구체화 진행 상황 공유.

### 배운 점
- Spring의 설계가 왜 그렇게 복잡한 계층을 두는지, 그 의도를 다시 한번 명확히 이해함.
- 라우팅과 메서드 핸들링 구조를 직접 설계하면서, Spring의 핵심 아이디어(HandlerMethod, ArgumentResolver)의 목적을 이해하고 내 WAS에 맞게 적용해봄

### 어려웠던 점
- 클래스 파일이 많다 보니, 코드 레벨에서 설명하는 데 한계가 있었다.  
  -> 설명을 위해 아키텍처 다이어그램이 필요함을 깨달음.

- 팀 미팅에서 솔루션 정의가 난항을 겪고 있다는 걸 파악함.  
  -> 소통 부족이 원인이라고 생각함.

---

## 회고

### Keep
- Spring 구조를 참고하며 “왜 이렇게 설계했는가”를 고민한 점.
- 그룹원들과 편하게 소통하고 고민을 공유한 점.
- 어려움을 겪는 그룹원과 함께 문제를 고민한 점. (static 클래스 로딩 시점)

### Problem
- 과제 요구사항은 아직 제대로 구현 못함.
- 프로젝트 팀원들과 소통이 충분하지 않았음.
- 코드 설명이 어려웠음(구조를 한눈에 보여줄 수 있는 자료 부족).

### Try
- 내일부터는 요구사항 구현에 집중
- 목요일에 회의를 통해 솔루션 정의를 구체화, 슬랙으로 고민 사항 공유 요청.
- 아키텍처 다이어그램 그리기, 주석 습관화
- 예외 처리 위치를 어떻게 설계할지 추가 고민

---

## 공부내용

[라우팅과 메소드 핸들러를 만들어 봤다.](https://github.com/genius00hwan/softeer_wiki/blob/main/append/%EB%9D%BC%EC%9A%B0%ED%8C%85_%EB%A9%94%EC%84%9C%EB%93%9C_%EC%96%B4%EB%8C%91%ED%84%B0.md)

`+`

#### 클래스 로딩과 초기화 순서

- 클래스는 처음 참조될 때 로딩되고, `static` 필드와 블록이 순차적으로 초기화됨.
- 순환 참조 문제
  - A클래스의 static 필드가 B를 참조하고, 동시에 B가 다시 A의 static 필드를 참조하면 초기화 순서가 꼬여 NPE가 발생할 수 있음.
  - Java는 static 초기화 순환 참조를 컴파일타임에 검증하지 않음
  - 런타임 시점에 실제 초기화 순서에 따라 NPE가 발생하므로, 명시적 의존 관계를 분리하거나 lazy 초기화를 고려해야 함.

- 싱글톤처럼 static을 남발할 때 주의점
  - 상태 없는 유틸성 객체는 static으로 관리해도 되지만, 의존성이 있는 객체를 static으로 선언할 경우 순환 참조 가능성을 점검해야 함.
  - 필요한 경우 `static` 대신 의존 주입(DI)이나 지연 초기화(Holder 패턴 등)를 활용하는 것이 안전하다.


---

#### p.s.

`오늘 기획자가 이클립스 쓰냐고 물어봤다. 아뇨 인텔리제이 씁니다. 알고보니 이클립스 먹을거냐는 말이었다. "지금 너무 과몰입중인가.." 싶다ㅋㅋㅋ`
